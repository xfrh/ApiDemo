@using ApiDemoApp.Models
@using ApiDemoApp.Services
@inject AppState appState
<MudSlider @bind-Value="vx" Min="-1" Max="1" Step="0.05" ValueLabel="true" Color="Color.Info">直行速度(单位米/秒)</MudSlider>
<MudSlider @bind-Value="vth" Min="-1" Max="1" Step="0.05" ValueLabel="true"   Color="Color.Error">转动角速度</MudSlider>
<MudButton Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Color="Color.Primary" OnClick="StartNav">Start</MudButton>
@code {
    RegisterAGVFrom model;
    double vx = 0.0;
    double vth = 0.0;
    private async Task StartNav()
    {
        appState.SelectedAGVSpeed = new AGVSpeed()
            {
               vx = (float)this.vx,
                vth = (float)this.vth
            };
         
        model = appState.SelectedModel;
        appState.SetModel(model, ActionType.MANUL);
        await this.InvokeAsync(() => this.StateHasChanged());
    }
}